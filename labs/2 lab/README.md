# MAC-адреса сетевых устройств


## Часть 1. Создание и настройка сети

### Шаг 1. Подключите сеть в соответствии с топологией.

![image](https://user-images.githubusercontent.com/44971394/136217066-ec0a2ca4-4cc9-4ece-817d-b3bd721a9b8b.png)

### Шаг 2. Настройте узлы ПК.

![image](https://user-images.githubusercontent.com/44971394/136217642-2064ec97-e34c-49a9-b343-2ebf1f37c442.png)

### Шаг 3. Выполните инициализацию и перезагрузку коммутаторов.

![image](https://user-images.githubusercontent.com/44971394/136219317-5ad8ed04-63ab-4a97-9bcd-d5875a02e65b.png)

### Шаг 4. Настройте базовые параметры каждого коммутатора.

**Откройте окно конфигурации**

#### a.	Настройте имена устройств в соответствии с топологией.

```
Switch>enable         
Switch#conf t  
Switch(config)#hostname S1  
S1(config)#  
```

Switch>enable  
Switch#conf t  
Switch(config)#hostname S2  
S2(config)#  

#### b.	Настройте IP-адреса, как указано в таблице адресации.

S1(config)#interface vlan 1  
S1(config-if)#ip address 192.168.1.11 255.255.255.0  
S1(config-if)#no shutdown  

S2(config)#interface vlan 1  
S2(config-if)#ip address 192.168.1.12 255.255.255.0  
S2(config-if)#no shutdown  

#### c.	Назначьте cisco в качестве паролей консоли и VTY.

![image](https://user-images.githubusercontent.com/44971394/136225748-3877d49d-6c20-4a5b-bd0d-e1fe0ad13bc8.png)

#### d.	Назначьте class в качестве пароля доступа к привилегированному режиму EXEC.

![image](https://user-images.githubusercontent.com/44971394/136225771-21ec5d5e-d13e-46b7-b00a-813b622dace3.png)

**Закройте окно настройки.**



## Часть 2. Изучение таблицы МАС-адресов коммутатора

**Как только между сетевыми устройствами начинается передача данных, коммутатор выясняет МАС-адреса и строит таблицу.**

### Шаг 1. Запишите МАС-адреса сетевых устройств.

#### a.	Откройте командную строку на PC-A и PC-B и введите команду ipconfig /all.

**Открытие окна командной строки Windows**

*Вопрос:*
*Назовите физические адреса адаптера Ethernet.*  
*MAC-адрес компьютера PC-A:* **00E0.B019.52A9**  
*MAC-адрес компьютера PC-B:* **00D0.5800.ADB6**  

**Закройте окно командной строки.**

#### b.	Подключитесь к коммутаторам S1 и S2 через консоль и введите команду show interface F0/1 на каждом коммутаторе.

**Откройте окно конфигурации**

*Вопросы:*
*Назовите адреса оборудования во второй строке выходных данных команды (или зашитый адрес — bia).*  
*МАС-адрес коммутатора S1 Fast Ethernet 0/1:* **0001.63e0.7301**  
*МАС-адрес коммутатора S2 Fast Ethernet 0/1:* **0001.4204.1201**  

**Закройте окно настройки.**

### Шаг 2. Просмотрите таблицу МАС-адресов коммутатора.

**Подключитесь к коммутатору S2 через консоль и просмотрите таблицу МАС-адресов до и после тестирования сетевой связи с помощью эхо-запросов.**

#### a.	Подключитесь к коммутатору S2 через консоль и войдите в привилегированный режим EXEC.

**Откройте окно конфигурации**

![image](https://user-images.githubusercontent.com/44971394/136362580-a11dfcb6-1c42-485e-9862-ae68d8df4ebd.png)


#### b.	В привилегированном режиме EXEC введите команду show mac address-table и нажмите клавишу ввода.

**S2# show mac address-table  
Даже если сетевая коммуникация в сети не происходила (т. е. если команда ping не отправлялась), коммутатор может узнать МАС-адреса при подключении к ПК и другим коммутаторам.**

![image](https://user-images.githubusercontent.com/44971394/136362657-8a01c52b-a73c-4782-8856-1a4d2d82be26.png)

*Вопросы:*  
*Записаны ли в таблице МАС-адресов какие-либо МАС-адреса?*  
**Да, адрес соседнего коммутатора S1**

*Какие МАС-адреса записаны в таблице? С какими портами коммутатора они сопоставлены и каким устройствам принадлежат? Игнорируйте МАС-адреса, сопоставленные с центральным процессором.*  
**Только MAC-адрес соседнего коммутатора S1, сопоставленный с портом, через который идёт подключение(Fa0/1)**

*Если вы не записали МАС-адреса сетевых устройств в шаге 1, как можно определить, каким устройствам принадлежат МАС-адреса, используя только выходные данные команды show mac address-table? Работает ли это решение в любой ситуации?*  
**Работает, если перед глазами есть схема подключения и на ней видно, какое устройство к какому порту подключено.**

![image](https://user-images.githubusercontent.com/44971394/136404878-d2a10243-0efe-4161-9f65-2a18d70c657a.png)

### Шаг 3. Очистите таблицу МАС-адресов коммутатора S2 и снова отобразите таблицу МАС-адресов.

#### a.	В привилегированном режиме EXEC введите команду clear mac address-table dynamic и нажмите клавишу Enter.

**S2#clear mac address-table dynamic**

#### b.	Снова быстро введите команду show mac address-table.

![image](https://user-images.githubusercontent.com/44971394/136404929-74ebdbbd-e6bd-4a0a-bbd3-7a06b6ad9d5e.png)

*Вопросы:*  
*Указаны ли в таблице МАС-адресов адреса для VLAN 1? Указаны ли другие МАС-адреса?*  
**Нет, после последней команды в таблице пусто**

*Через 10 секунд введите команду show mac address-table и нажмите клавишу ввода. Появились ли в таблице МАС-адресов новые адреса?*  
**Появился адрес S1**

### Шаг 4. С компьютера PC-B отправьте эхо-запросы устройствам в сети и просмотрите таблицу МАС-адресов коммутатора.

#### a.	На компьютере PC-B откройте командную строку и еще раз введите команду arp -a.

**Откройте командную строку.**

*Вопрос:*  
*Не считая адресов многоадресной и широковещательной рассылки, сколько пар IP- и МАС-адресов устройств было получено через протокол ARP?*  
**Ни одного**

#### b.	Из командной строки PC-B отправьте эхо-запросы на компьютер PC-A, а также коммутаторы S1 и S2.

![image](https://user-images.githubusercontent.com/44971394/136403238-2fbfd150-5ec3-483c-9ad1-aedca85de607.png)


*Вопрос:  
От всех ли устройств получены ответы? Если нет, проверьте кабели и IP-конфигурации.*
**От всех, что видно в таблице**

**Закройте командную строку.**

#### c.	Подключившись через консоль к коммутатору S2, введите команду show mac address-table.

**Откройте окно конфигурации**

*Вопрос:  
Добавил ли коммутатор в таблицу МАС-адресов дополнительные МАС-адреса? Если да, то какие адреса и устройства?* 
**Да**

![image](https://user-images.githubusercontent.com/44971394/136404996-65539b29-f5cf-44a7-a7c8-fe78d41e7da3.png)

**На компьютере PC-B откройте командную строку и еще раз введите команду arp -a.**

![image](https://user-images.githubusercontent.com/44971394/136403810-724d3355-325c-4e4d-b52e-c55e70cbfe8a.png)

*Вопрос:  
Появились ли в ARP-кэше компьютера PC-B дополнительные записи для всех сетевых устройств, которым были отправлены эхо-запросы?*  

![image](https://user-images.githubusercontent.com/44971394/136405082-e5d3365b-6e48-41c1-bc0c-0776ade739e4.png)

**Закройте командную строку.**

## Вопрос для повторения
В сетях Ethernet данные передаются на устройства по соответствующим МАС-адресам. Для этого коммутаторы и компьютеры динамически создают ARP-кэш и таблицы МАС-адресов. Если компьютеров в сети немного, эта процедура выглядит достаточно простой. Какие сложности могут возникнуть в крупных сетях?  
**Слишком много ARP запросов приводят к замедлению работы сети, так как появляется слишком большая очередь кадров на портах.**
